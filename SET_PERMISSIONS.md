# ๐ ุฏููู ุถุจุท ุชุตุฑูุญุงุช ุงููููุงุช - ุนุฒู ุงูุฅูุฌุงุฒ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุจุนุฏ ุฑูุน ุงููุดุฑูุน ุนูู ุงูุฎุงุฏูุ ูุฌุจ ุถุจุท ุชุตุฑูุญุงุช ุงููููุงุช ุจุดูู ุตุญูุญ ูุถูุงู:
- โ ุงูุฃูุงู
- โ ุนูู ุงูุชุทุจูู ุจุดูู ุตุญูุญ
- โ ุฅููุงููุฉ ุงููุชุงุจุฉ ูู ุงููุฌูุฏุงุช ุงููุทููุจุฉ

---

## ๐ ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ (ุณูุฑูุจุช ุชููุงุฆู)

### 1. ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช ุงููุฑูู

```bash
# ุฌุนู ุงูููู ูุงุจูุงู ููุชูููุฐ
chmod +x SET_PERMISSIONS.sh

# ุชุดุบูู ุงูุณูุฑูุจุช (ูู root)
sudo ./SET_PERMISSIONS.sh
```

**ุฃู ุจุฏูู sudo (ุฅุฐุง ููุช root ุจุงููุนู):**
```bash
./SET_PERMISSIONS.sh
```

---

## ๐ ุงูุทุฑููุฉ ุงููุฏููุฉ (ุฃูุงูุฑ ูููุตูุฉ)

### ุฅุฐุง ููุช ุชุณุชุฎุฏู root ูุจุงุดุฑุฉ:

```bash
# ุงูุงูุชูุงู ููุฌูุฏ ุงููุดุฑูุน
cd /path/to/crosing

# 1. ุถุจุท ุชุตุฑูุญุงุช ุงููููุงุช ุงูุนุงุฏูุฉ (644)
find . -type f -exec chmod 644 {} \;

# 2. ุถุจุท ุชุตุฑูุญุงุช ุงููุฌูุฏุงุช (755)
find . -type d -exec chmod 755 {} \;

# 3. ุถุจุท ุชุตุฑูุญุงุช ูููุงุช PHP (755)
chmod 755 *.php
chmod 755 admin/*.php

# 4. ุถุจุท ุงููุฌูุฏุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ (775)
chmod 775 uploads
chmod 775 data

# 5. ุถุจุท ููู .env (600 - ุฎุงุต ุฌุฏุงู)
chmod 600 .env

# 6. ุถุจุท ุงูููููุฉ (www-data ูู ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู ูู Apache/Nginx)
chown -R www-data:www-data .

# ุฃู ุฅุฐุง ูุงู ูุณุชุฎุฏูู ูุฎุชูู:
chown -R apache:apache .        # CentOS/RHEL
chown -R nginx:nginx .          # Nginx
chown -R your_user:your_group . # ูุณุชุฎุฏู ูุฎุตุต
```

---

## ๐ ุฌุฏูู ุงูุชุตุฑูุญุงุช ุงูููุตู ุจูุง

| ุงูููุน | ุงูุชุตุฑูุญ | ุงููุตู | ูุซุงู |
|------|---------|-------|------|
| **ูููุงุช PHP** | `644` | ูุฑุงุกุฉ ููุฌููุนุ ูุชุงุจุฉ ูููุงูู | `index.php` |
| **ูุฌูุฏุงุช** | `755` | ุชูููุฐ + ูุฑุงุกุฉ ููุฌููุน | `admin/`, `inc/` |
| **ูููุงุช ูุงุจูุฉ ููุชูููุฐ** | `755` | ุชูููุฐ ูุทููุจ | `*.sh`, ุจุนุถ `*.php` |
| **ูุฌูุฏุงุช ูุงุจูุฉ ูููุชุงุจุฉ** | `775` | ูุชุงุจุฉ ูุทููุจุฉ | `uploads/`, `data/` |
| **ููู .env** | `600` | ุฎุงุต ุฌุฏุงู - ูููุงูู ููุท | `.env` |
| **ูููุงุช ุงูุณุฌูุงุช** | `644` | ูุฑุงุกุฉ ุนุงุฏูุฉ | `*.log` |

---

## ๐ ุชูุงุตูู ูู ููุน

### 1. ุงููููุงุช ุงูุนุงุฏูุฉ (644)
```bash
chmod 644 filename.php
```
- **ุงููุงูู:** ูุฑุงุกุฉ + ูุชุงุจุฉ (6)
- **ุงููุฌููุนุฉ:** ูุฑุงุกุฉ ููุท (4)
- **ุงูุจููุฉ:** ูุฑุงุกุฉ ููุท (4)

### 2. ุงููุฌูุฏุงุช (755)
```bash
chmod 755 foldername/
```
- **ุงููุงูู:** ูู ุงูุตูุงุญูุงุช (7)
- **ุงููุฌููุนุฉ:** ูุฑุงุกุฉ + ุชูููุฐ (5)
- **ุงูุจููุฉ:** ูุฑุงุกุฉ + ุชูููุฐ (5)

### 3. ุงููุฌูุฏุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ (775)
```bash
chmod 775 uploads/
chmod 775 data/
```
- **ุงููุงูู:** ูู ุงูุตูุงุญูุงุช (7)
- **ุงููุฌููุนุฉ:** ูุฑุงุกุฉ + ูุชุงุจุฉ + ุชูููุฐ (7)
- **ุงูุจููุฉ:** ูุฑุงุกุฉ + ุชูููุฐ (5)

### 4. ููู .env (600)
```bash
chmod 600 .env
```
- **ุงููุงูู:** ูุฑุงุกุฉ + ูุชุงุจุฉ (6)
- **ุงููุฌููุนุฉ:** ูุง ุดูุก (0)
- **ุงูุจููุฉ:** ูุง ุดูุก (0)

---

## ๐ ุถุจุท ุงูููููุฉ (Ownership)

### Apache (Ubuntu/Debian)
```bash
chown -R www-data:www-data /path/to/crosing
```

### Apache (CentOS/RHEL)
```bash
chown -R apache:apache /path/to/crosing
```

### Nginx
```bash
chown -R nginx:nginx /path/to/crosing
# ุฃู
chown -R www-data:www-data /path/to/crosing
```

### ูุฎุตุต
```bash
# ุงุณุชุจุฏู your_user ู your_group ุจุงูููู ุงูุตุญูุญุฉ
chown -R your_user:your_group /path/to/crosing
```

---

## โ๏ธ SELinux (CentOS/RHEL)

ุฅุฐุง ูุงู SELinux ููุนููุงูุ ูุฏ ุชุญุชุงุฌ:

```bash
# ุถุจุท ุณูุงู ุงููููุงุช
chcon -R -t httpd_sys_content_t /path/to/crosing

# ูููููุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ
chcon -R -t httpd_sys_rw_content_t /path/to/crosing/uploads
chcon -R -t httpd_sys_rw_content_t /path/to/crosing/data
```

---

## ๐ฏ ุฃูุงูุฑ ุณุฑูุนุฉ (Copy & Paste)

### ูููุดุฑูุน ุงููุงูู (ูู root):

```bash
cd /path/to/crosing && \
find . -type f -exec chmod 644 {} \; && \
find . -type d -exec chmod 755 {} \; && \
chmod 775 uploads data 2>/dev/null && \
chmod 600 .env 2>/dev/null && \
chown -R www-data:www-data . && \
echo "โ ุชู!"
```

### ูููููุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ ููุท:

```bash
chmod 775 uploads data
chown www-data:www-data uploads data
```

### ูููู .env ููุท:

```bash
chmod 600 .env
chown www-data:www-data .env
```

---

## ๐งช ุงูุชุญูู ูู ุงูุชุตุฑูุญุงุช

```bash
# ุนุฑุถ ุชุตุฑูุญุงุช ููู
ls -l filename.php

# ุนุฑุถ ุชุตุฑูุญุงุช ูุฌูุฏ
ls -ld foldername/

# ุนุฑุถ ุฌููุน ุงูุชุตุฑูุญุงุช
ls -la

# ุงูุชุญูู ูู ููููุฉ ุงููููุงุช
stat filename.php
```

---

## โ ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

### 1. "Permission denied" ุนูุฏ ุฑูุน ูููุงุช
```bash
# ุงูุญู:
chmod 775 uploads
chown www-data:www-data uploads
```

### 2. "Permission denied" ุนูุฏ ูุชุงุจุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุงูุญู:
chmod 775 data
chown www-data:www-data data
chmod 664 data/*.db  # ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

### 3. ูุง ูููู ูุฑุงุกุฉ .env
```bash
# ุงูุญู:
chmod 600 .env
chown www-data:www-data .env
```

### 4. SELinux ูููุน ุงููุตูู
```bash
# ุงูุญู:
chcon -R -t httpd_sys_content_t /path/to/crosing
setsebool -P httpd_can_network_connect 1
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชุณุชุฎุฏู 777 ุฃุจุฏุงู** - ุฎุทุฑ ุฃููู ูุจูุฑ
2. **ููู .env ูุฌุจ ุฃู ูููู 600** - ูุญุชูู ุนูู ูุนูููุงุช ุญุณุงุณุฉ
3. **ุงููุฌูุฏุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ:** `775` ููุท (ููุณ `777`)
4. **ุงูุชุญูู ูู ุงููุณุชุฎุฏู:** ุงุณุชุฎุฏู `ps aux | grep apache` ุฃู `ps aux | grep nginx`
5. **ุงุฎุชุจุงุฑ:** ุจุนุฏ ุงูุถุจุทุ ุงุฎุชุจุฑ ุฑูุน ููู ูุชุนุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุชู ุถุจุท ุชุตุฑูุญุงุช ุงููููุงุช (644)
- [ ] ุชู ุถุจุท ุชุตุฑูุญุงุช ุงููุฌูุฏุงุช (755)
- [ ] ุชู ุถุจุท ุงููุฌูุฏุงุช ุงููุงุจูุฉ ูููุชุงุจุฉ (775)
- [ ] ุชู ุถุจุท ููู .env (600)
- [ ] ุชู ุถุจุท ุงูููููุฉ (www-data)
- [ ] ุชู ุงุฎุชุจุงุฑ ุฑูุน ููู
- [ ] ุชู ุงุฎุชุจุงุฑ ุงููุชุงุจุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-01

